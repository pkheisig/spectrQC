% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/quick_unmix.R
\name{quick_unmix}
\alias{quick_unmix}
\title{Quick Unmix Workflow: Spectra, SCC Unmixing, and Unmixing Matrix Plot}
\usage{
quick_unmix(
  scc_dir = "scc",
  control_df = NULL,
  control_file = "fcs_control_file.csv",
  auto_create_control = TRUE,
  cytometer = "Aurora",
  auto_default_control_type = "beads",
  auto_unknown_fluor_policy = c("by_channel", "empty", "filename"),
  output_dir = "spectrQC_outputs/quick_unmix",
  unmix_method = "WLS",
  build_qc_plots = FALSE,
  unmix_scatter_panel_size_mm = 30,
  ...
)
}
\arguments{
\item{scc_dir}{Directory with SCC FCS files.}

\item{control_df}{Optional control mapping data.frame, or a path to a control CSV.
If a path is provided it is read with `read.csv()`.}

\item{control_file}{Path to control mapping CSV used when `control_df` is NULL.}

\item{auto_create_control}{Logical. If TRUE and `control_file` is missing,
auto-generate a control file by inferring fluorophores from filenames and/or
peak channels from SCC FCS files.}

\item{cytometer}{Cytometer name used for channel-based fluorophore inference
when auto-generating controls (for example `"Aurora"`).}

\item{auto_default_control_type}{Deprecated. Kept for backward compatibility and ignored.}

\item{auto_unknown_fluor_policy}{How unresolved fluorophores are filled during
auto control-file generation (`"by_channel"`, `"empty"`, `"filename"`).}

\item{output_dir}{Output directory.}

\item{unmix_method}{Unmixing method for SCC files ("WLS", "OLS", "NNLS", "AutoSpectral").}

\item{build_qc_plots}{Logical. If TRUE, keep `build_reference_matrix()` gating/spectrum plot exports.}

\item{unmix_scatter_panel_size_mm}{Size per panel for the SCC unmixing scatter matrix.}

\item{...}{Additional parameters passed to `build_reference_matrix()`.}
}
\value{
List with `M`, `W`, `unmixed_list`, `spectra_plot`, and `unmixing_plot`.

When a missing control file is auto-created, the function asks for explicit `y/n`
confirmation in interactive sessions before unmixing continues.
}
\description{
Convenience helper for a minimal SCC workflow:
1) build reference matrix,
2) plot spectra,
3) unmix SCC files,
4) derive and plot unmixing matrix.
}
\examples{
\dontrun{
out <- quick_unmix(
  scc_dir = "scc",
  control_file = "fcs_control_file.csv",
  auto_create_control = TRUE,
  cytometer = "Aurora",
  output_dir = "spectrQC_outputs/quick_unmix"
)
names(out)
}
}
