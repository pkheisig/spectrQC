% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/autounmix_controls.R
\name{autounmix_controls}
\alias{autounmix_controls}
\title{Auto-Unmix Single-Color Controls}
\usage{
autounmix_controls(
  scc_dir = "scc",
  control_df = NULL,
  control_file = "fcs_control_file.csv",
  auto_create_control = TRUE,
  cytometer = "Aurora",
  auto_default_control_type = "beads",
  auto_unknown_fluor_policy = c("by_channel", "empty", "filename"),
  output_dir = "spectrQC_outputs/autounmix_controls",
  unmix_method = "WLS",
  build_qc_plots = FALSE,
  unmix_scatter_panel_size_mm = 30,
  ...
)
}
\arguments{
\item{scc_dir}{Directory containing SCC FCS files.}

\item{control_df}{Optional control mapping data.frame, or a path to control CSV.}

\item{control_file}{Path to control mapping CSV used when `control_df` is `NULL`.}

\item{auto_create_control}{Logical; auto-generate control file when missing.}

\item{cytometer}{Cytometer name (for example `"Aurora"`).}

\item{auto_default_control_type}{Deprecated and ignored.}

\item{auto_unknown_fluor_policy}{Auto-fill policy for unresolved fluorophores
when creating controls (`"by_channel"`, `"empty"`, `"filename"`).}

\item{output_dir}{Output directory for SCC workflow artifacts.}

\item{unmix_method}{SCC unmixing method (`"WLS"`, `"OLS"`, `"NNLS"`, `"AutoSpectral"`).}

\item{build_qc_plots}{Logical; keep detailed build_reference_matrix plots.}

\item{unmix_scatter_panel_size_mm}{Panel size for SCC unmixing scatter matrix plot.}

\item{...}{Additional arguments forwarded to [build_reference_matrix()].}
}
\value{
List with `M`, `W`, `unmixed_list`, and key output file paths.
}
\description{
SCC workflow helper that:
1) validates/creates the control file,
2) builds the reference matrix from SCCs,
3) unmixed SCC files,
4) saves reference/unmixing matrices,
5) plots spectra, unmixing matrix, and SCC unmixing scatter matrix.
}
\details{
This function is intended as the control-stage step before GUI adjustment
and downstream sample unmixing.
}
\examples{
args(autounmix_controls)
\dontrun{
ctrl <- autounmix_controls(
  scc_dir = "scc",
  control_file = "fcs_control_file.csv",
  auto_create_control = TRUE,
  cytometer = "Aurora",
  output_dir = "spectrQC_outputs/autounmix_controls"
)
ctrl$unmixing_matrix_file
}
}
