% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/scc_refine.R
\name{refine_scc_matrix}
\alias{refine_scc_matrix}
\title{Refine SCC Matrix}
\usage{
refine_scc_matrix(
  M,
  scc_dir = "scc",
  rrmse_threshold = 0.05,
  output_dir = "scc_unmixed",
  control_file = "fcs_control_file.csv",
  report_file = "SCC_Refinement_Report.pdf",
  png_dir = "spectrQC_outputs/plots/scc_refinement"
)
}
\arguments{
\item{M}{Initial reference matrix.}

\item{scc_dir}{SCC folder.}

\item{rrmse_threshold}{Cutoff for RRMSE cleaning.}

\item{output_dir}{Folder for refined matrices and unmixed SCC files.}

\item{control_file}{Control mapping CSV used during refinement.}

\item{report_file}{Path to comparison PDF report.}

\item{png_dir}{Directory for intermediate comparison PNGs.}
}
\value{
A list with refined [[M]] and [[W]].
}
\description{
Cleans SCCs using an RRMSE threshold, produces refined M and W, 
and generates a before/after comparison report.
}
\examples{
args(refine_scc_matrix)
\dontrun{
refined <- refine_scc_matrix(
  M = M,
  scc_dir = "scc",
  control_file = "fcs_control_file.csv"
)
str(refined)
}
}
