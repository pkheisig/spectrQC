% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/refine_reference_matrix.R
\name{refine_reference_matrix}
\alias{refine_reference_matrix}
\title{Refine a Reference Matrix by Filtering High-Residual Events}
\usage{
refine_reference_matrix(
  M,
  input_folder = "scc",
  rrmse_threshold = 0.05,
  control_df = NULL
)
}
\arguments{
\item{M}{Initial reference matrix (markers x detectors).}

\item{input_folder}{SCC directory with `.fcs` files.}

\item{rrmse_threshold}{Maximum RRMSE retained during event cleaning.}

\item{control_df}{Optional control mapping data.frame or CSV path.}
}
\value{
Refined reference matrix with same detector columns and marker order as `M`.
}
\description{
Reprocesses SCC files against an initial matrix `M`, removes high-RRMSE events,
and recomputes cleaner marker spectra.
}
\examples{
\dontrun{
M_refined <- refine_reference_matrix(
  M = M,
  input_folder = "scc",
  rrmse_threshold = 0.05,
  control_df = "fcs_control_file.csv"
)
}
}
